# UAT Test: US-P4.1-008 - Add connector status management and error tracking

> Auto-generated: 2026-02-15 21:11
> Status: â³ Pending Execution

## Story
As the platform, I need to track connector health, sync errors, and automatically disable failing connectors.

## Acceptance Criteria Checklist

- [ ] Add to packages/backend/convex/models/federationConnectors.ts
- [ ] Implement updateConnectorStatus mutation: updates status (active/inactive/error)
- [ ] Implement recordConnectorError mutation: appends error to connector's error log
- [ ] Add lastErrorAt, lastSuccessAt, consecutiveFailures fields to federationConnectors schema
- [ ] recordConnectorError increments consecutiveFailures counter
- [ ] If consecutiveFailures >= 5, automatically set status to 'error'
- [ ] Implement clearConnectorErrors mutation: resets error counters, sets status back to 'active'
- [ ] Implement getConnectorHealth query: returns connector with health metrics
- [ ] Health metrics: uptime percentage, last sync time, error rate, status
- [ ] Update schema.ts with new fields and re-run codegen
- [ ] Run npx ultracite fix and npm run check-types

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P4.1-008"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
