# Coach-Parent AI Summaries - Phase 3 (Sensitive Topics)

> Auto-generated documentation - Last updated: 2026-01-20 18:01

## Status

- **Branch**: `ralph/coach-parent-summaries-p3`
- **Progress**: 18 / 18 stories complete
- **Phase Status**: âœ… Complete

## Completed Features

### US-001: Add injuryApprovalChecklist table

As a developer, I need to track coach checklist responses for injury summaries.

### US-002: Add index to injuryApprovalChecklist

As a developer, I need efficient checklist lookups.

### US-003: Update classifyInsightSensitivity with examples

As the system, I need better classification accuracy.

### US-004: Store classification reason in summary

As a coach, I want to know why a summary was classified as sensitive.

### US-005: Implement approveInjurySummary mutation

As a coach, I need to complete a checklist to approve injury summaries.

### US-006: Store checklist responses in approveInjurySummary

As the system, I need to audit checklist completions.

### US-007: Block auto-approval for injury category

As the system, injury summaries must never auto-approve.

### US-008: Block auto-approval for behavior category

As the system, behavior summaries must never auto-approve.

### US-009: Create SensitivityBadge component

As a coach, I want visual indication of sensitivity category.

### US-010: Create InjuryApprovalCard component

As a coach, I need a special card for injury summaries.

### US-011: Add checklist to InjuryApprovalCard

As a coach, I must complete checklist before approving injury.

### US-012: Wire InjuryApprovalCard to mutation

As a coach, approving injury card should call the special mutation.

### US-013: Create BehaviorApprovalCard component

As a coach, I need a distinct card for behavior summaries.

### US-014: Wire BehaviorApprovalCard to standard approve

As a coach, behavior cards use standard approval flow.

### US-015: Route to correct card in ParentsTab

As a coach, I see the appropriate card based on sensitivity.

### US-016: Add SensitivityBadge to all approval cards

As a coach, all cards show their sensitivity category.

### US-017: Process injury insights in pipeline

As the system, injury insights should now go through the pipeline.

### US-018: Process behavior insights in pipeline

As the system, behavior insights should now go through the pipeline.


## Implementation Notes

Key patterns and learnings from implementation:


## Key Files

### Required Files (from dependencies)
- `packages/backend/convex/models/coachParentSummaries.ts`
- `packages/backend/convex/models/coachTrustLevels.ts`
- `packages/backend/convex/schema.ts (coachParentSummaries, coachTrustLevels tables)`
- `apps/web/src/app/orgs/[orgId]/coach/voice-notes/components/parents-tab.tsx`

### Existing Components Used
- `apps/web/src/components/coach/trust-level-icon.tsx`
- `apps/web/src/components/coach/trust-level-indicator.tsx`
- `apps/web/src/components/coach/trust-preference-settings.tsx`
- `apps/web/src/components/coach/trust-nudge-banner.tsx`

---
*Documentation auto-generated by Ralph Documenter Agent*
