# UAT Test: US-P1.2-003 - Add fuzzy and content-analysis matching to mapper

> Auto-generated: 2026-02-12 18:12
> Status: ‚è≥ Pending Execution

## Story
As the import system, I need fuzzy string matching and content analysis to map columns that don't match exactly or by alias.

## Acceptance Criteria Checklist

- [ ] Add to packages/backend/convex/lib/import/mapper.ts
- [ ] Implement fuzzyMatch function using Levenshtein distance calculation (implement inline - no npm dependency)
- [ ] Fuzzy match threshold: distance <= 3 edits returns 70-90% confidence (scaled by distance)
- [ ] Implement analyzeColumnContent function: examine sample values to infer field type using regex patterns
- [ ] Content analysis returns 60-80% confidence based on pattern match strength
- [ ] Implement main suggestMappings function that runs all strategies in order: exact -> alias -> fuzzy -> content analysis

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P1.2-003"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
