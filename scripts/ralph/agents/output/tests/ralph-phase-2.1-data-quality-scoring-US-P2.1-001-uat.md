# UAT Test: US-P2.1-001 - Create data quality scoring engine

> Auto-generated: 2026-02-13 20:27
> Status: ⏳ Pending Execution

## Story
As the import system, I need a scoring engine that evaluates imported data across 5 dimensions and produces a quality report.

## Acceptance Criteria Checklist

- [ ] Create packages/backend/convex/lib/import/dataQuality.ts
- [ ] Export calculateDataQuality(rows, mappings, sportCode) -> QualityReport
- [ ] Export scoreCompleteness(rows, requiredFields) -> number (0-100): ratio of populated required fields
- [ ] Export scoreConsistency(rows) -> number (0-100): pattern matching on phone/email/date formats within dataset
- [ ] Export scoreAccuracy(rows) -> number (0-100): valid email syntax, phone format, date logic, age reasonableness
- [ ] Export scoreUniqueness(rows) -> number (0-100): duplicate detection rate (name+DOB combos)
- [ ] Export scoreTimeliness(rows, season) -> number (0-100): data freshness (DOBs within age range, current season)
- [ ] Overall score = weighted average (completeness 30%, consistency 25%, accuracy 25%, uniqueness 15%, timeliness 5%)
- [ ] Grade mapping: excellent (90-100), good (75-89), fair (60-74), poor (40-59), critical (0-39)
- [ ] Reuse email/phone/date validation regexes from validator.ts — import and reuse, do NOT duplicate
- [ ] Functions are pure (no Convex ctx) — operate on parsed row arrays
- [ ] Run npx ultracite fix and verify types

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P2.1-001"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
