# UAT Test: US-VNM-001 - Create Pipeline Event Log Schema

> Auto-generated: 2026-02-16 13:59
> Status: ‚è≥ Pending Execution

## Story
Add voicePipelineEvents, voicePipelineMetricsSnapshots, and voicePipelineCounters tables to schema with proper indexes and time-window partitioning support. READ FULL DETAILS in phases/PHASE_M1.json.

## Acceptance Criteria Checklist

- [ ] Add voicePipelineEvents table with 27 event types (including entity_resolution_failed, draft_generation_failed)
- [ ] timeWindow field: v.string() format 'YYYY-MM-DD-HH' for hourly partitioning
- [ ] eventId: v.string() for UUID deduplication (not v.id())
- [ ] Add 9 indexes: by_artifactId, by_timestamp, by_eventType, by_eventType_and_timestamp, by_org_and_timestamp, by_pipelineStage, by_pipelineStage_and_timestamp, by_timeWindow, by_timeWindow_and_eventType
- [ ] Add voicePipelineMetricsSnapshots table with periodType ('hourly' | 'daily'), 2 indexes
- [ ] Add voicePipelineCounters table with counterType, organizationId, currentValue, windowStart, windowEnd, 2 indexes
- [ ] Run: npx -w packages/backend convex codegen
- [ ] Verify no TypeScript errors: npm run check-types

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-VNM-001"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
