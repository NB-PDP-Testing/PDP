# UAT Test: US-P4.4-001 - Create cron scheduler for automated syncs

> Auto-generated: 2026-02-15 23:20
> Status: ‚è≥ Pending Execution

## Story
As the platform, I need to automatically sync federation data nightly for all connected organizations without manual triggering.

## Acceptance Criteria Checklist

- [ ] Update packages/backend/convex/crons.ts
- [ ] Add federationSync cron job with schedule: '0 2 * * *' (2 AM daily)
- [ ] Cron calls scheduledFederationSync action
- [ ] scheduledFederationSync queries all active connectors with syncConfig.enabled = true
- [ ] For each enabled connector, get all connectedOrganizations
- [ ] Queue sync job for each organization (don't run all at once)
- [ ] Use rate limiting: sync max 5 organizations concurrently
- [ ] Call syncGAAMembers action from Phase 4.2 for each org
- [ ] Update connector's lastSyncAt timestamp after completion
- [ ] Log sync results: success/failure, duration, records synced
- [ ] Send notification to org admins on sync failures
- [ ] Run npx -w packages/backend convex codegen

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P4.4-001"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
