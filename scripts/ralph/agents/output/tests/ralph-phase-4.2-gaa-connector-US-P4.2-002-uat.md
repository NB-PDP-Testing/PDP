# UAT Test: US-P4.2-002 - Implement GAA membership list fetcher action

> Auto-generated: 2026-02-15 21:39
> Status: ‚è≥ Pending Execution

## Story
As the sync engine, I need to fetch the full membership list from GAA Foireann API with pagination support.

## Acceptance Criteria Checklist

- [ ] Create packages/backend/convex/actions/gaaFoireann.ts
- [ ] Implement fetchMembershipList action with args: connectorId, organizationId
- [ ] Load connector using getConnector query
- [ ] Find organization's federationOrgId from connectedOrganizations array
- [ ] Create FederationApiClient instance with connectorId
- [ ] Call GET /clubs/{clubId}/members endpoint
- [ ] Handle pagination: fetch all pages (max 100 members per page)
- [ ] Parse response to extract member array
- [ ] Expected response fields: memberId, firstName, lastName, dateOfBirth, email, phone, address, membershipNumber, membershipStatus, joinDate
- [ ] Return: { members: GAAMember[], totalCount: number, fetchedAt: number }
- [ ] Add error handling for 401 (auth), 404 (club not found), 429 (rate limit), 500 (server error)
- [ ] Log sync attempt with timestamp and result
- [ ] Run npx ultracite fix

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P4.2-002"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
