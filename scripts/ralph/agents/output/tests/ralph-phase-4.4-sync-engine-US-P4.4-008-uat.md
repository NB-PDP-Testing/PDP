# UAT Test: US-P4.4-008 - Create sync history and audit trail

> Auto-generated: 2026-02-16 00:07
> Status: ‚è≥ Pending Execution

## Story
As an organization admin, I need to view sync history to understand what data was synced, when, and what conflicts occurred.

## Acceptance Criteria Checklist

- [ ] Create packages/backend/convex/models/syncHistory.ts
- [ ] Add syncHistory table: connectorId, organizationId, syncType (scheduled/manual/webhook), startedAt, completedAt, status, stats (created/updated/conflicts), conflictDetails array, errors array
- [ ] Add indexes: by_organizationId, by_connectorId, by_startedAt
- [ ] Implement createSyncHistoryEntry mutation: creates entry at sync start
- [ ] Implement updateSyncHistoryEntry mutation: updates with results at sync end
- [ ] conflictDetails array stores: playerId, fieldName, federationValue, localValue, resolvedValue, strategy
- [ ] Implement getSyncHistory query: returns paginated history for organization
- [ ] Implement getSyncHistoryDetails query: returns full details including conflicts for a single sync
- [ ] Add export sync history: download JSON or CSV report
- [ ] Run npx -w packages/backend convex codegen and npm run check-types

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P4.4-008"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
