# UAT Test: US-P8-011 - Add Category Filters to Applied Insights Section

> Auto-generated: 2026-01-28 21:03
> Status: ‚è≥ Pending Execution

## Story
As a coach, I want to filter applied insights by category so I can focus on specific types of observations.

## Acceptance Criteria Checklist

- [ ] Modify apps/web/src/app/orgs/[orgId]/coach/voice-notes/components/applied-insights-section.tsx
- [ ] Add category filter state:
- [ ] const [selectedCategories, setSelectedCategories] = useState<string[]>(['all']);
- [ ] Add filter chips above search:
- [ ] <div className='mb-4 flex flex-wrap gap-2'>
- [ ] {[
- [ ] { id: 'all', label: 'All', count: skillChanges.length + injuries.length },
- [ ] { id: 'skills', label: 'Skills', count: skillChanges.length },
- [ ] { id: 'injuries', label: 'Injuries', count: injuries.length },
- [ ] ].map(category => (
- [ ] <Button
- [ ] key={category.id}
- [ ] variant={selectedCategories.includes(category.id) ? 'default' : 'outline'}
- [ ] size='sm'
- [ ] onClick={() => {
- [ ] if (category.id === 'all') {
- [ ] setSelectedCategories(['all']);
- [ ] } else {
- [ ] const newCategories = selectedCategories.filter(c => c !== 'all');
- [ ] if (newCategories.includes(category.id)) {
- [ ] const filtered = newCategories.filter(c => c !== category.id);
- [ ] setSelectedCategories(filtered.length === 0 ? ['all'] : filtered);
- [ ] } else {
- [ ] setSelectedCategories([...newCategories, category.id]);
- [ ] }
- [ ] }
- [ ] }}
- [ ] >
- [ ] {category.label}
- [ ] <Badge variant='secondary' className='ml-2'>{category.count}</Badge>
- [ ] </Button>
- [ ] ))}
- [ ] </div>
- [ ] Combine category filter with search filter:
- [ ] const filteredSkills = useMemo(() => {
- [ ] // First filter by category
- [ ] let filtered = selectedCategories.includes('all') || selectedCategories.includes('skills')
- [ ] ? skillChanges
- [ ] : [];
- [ ] // Then filter by search
- [ ] if (debouncedQuery) {
- [ ] const lower = debouncedQuery.toLowerCase();
- [ ] filtered = filtered.filter(skill =>
- [ ] skill.playerName.toLowerCase().includes(lower) ||
- [ ] skill.description.toLowerCase().includes(lower)
- [ ] );
- [ ] }
- [ ] return filtered;
- [ ] }, [skillChanges, selectedCategories, debouncedQuery]);
- [ ] const filteredInjuries = useMemo(() => {
- [ ] // First filter by category
- [ ] let filtered = selectedCategories.includes('all') || selectedCategories.includes('injuries')
- [ ] ? injuries
- [ ] : [];
- [ ] // Then filter by search
- [ ] if (debouncedQuery) {
- [ ] const lower = debouncedQuery.toLowerCase();
- [ ] filtered = filtered.filter(injury =>
- [ ] injury.playerName.toLowerCase().includes(lower) ||
- [ ] injury.description.toLowerCase().includes(lower)
- [ ] );
- [ ] }
- [ ] return filtered;
- [ ] }, [injuries, selectedCategories, debouncedQuery]);
- [ ] Hide category sections when filtered out:
- [ ] {(selectedCategories.includes('all') || selectedCategories.includes('skills')) && (
- [ ] <Collapsible ...>
- [ ] {/* Skills section */}
- [ ] </Collapsible>
- [ ] )}
- [ ] {(selectedCategories.includes('all') || selectedCategories.includes('injuries')) && (
- [ ] <Collapsible ...>
- [ ] {/* Injuries section */}
- [ ] </Collapsible>
- [ ] )}
- [ ] Type check passes: npm run check-types
- [ ] Visual verification: Category filters toggle correctly, count badges accurate, works with search

## Test Scenarios

### Happy Path
1. Navigate to the feature
2. Perform the primary action described in the story
3. Verify all acceptance criteria are met
4. **Expected:** Feature works as described

### Edge Cases
1. Test with empty/null values
2. Test with boundary values
3. Test rapid repeated actions
4. **Expected:** Graceful handling, no errors

### Error Handling
1. Test with invalid inputs
2. Test without proper permissions
3. Test with network issues (if applicable)
4. **Expected:** Clear error messages, no crashes

## Visual Verification
- [ ] UI matches design expectations
- [ ] Responsive on mobile (if applicable)
- [ ] Loading states are appropriate
- [ ] Error states are user-friendly

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
