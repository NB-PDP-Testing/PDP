# UAT Test: US-P4.1-001 - Add federationConnectors table to schema

> Auto-generated: 2026-02-15 20:56
> Status: ‚è≥ Pending Execution

## Story
As a developer, I need a table to store federation connector configurations including authentication details, sync settings, and connected organizations.

## Acceptance Criteria Checklist

- [ ] Add federationConnectors table to packages/backend/convex/schema.ts
- [ ] Fields: name (string), federationCode (string - unique identifier like 'gaa_foireann'), status (active/inactive/error)
- [ ] authType: v.union(v.literal('oauth2'), v.literal('api_key'), v.literal('basic'))
- [ ] credentialsStorageId: v.id('_storage') - encrypted credentials file reference
- [ ] endpoints object: membershipList (string), memberDetail (optional string), webhookSecret (optional string)
- [ ] syncConfig object: enabled (boolean), schedule (optional cron string), conflictStrategy (string)
- [ ] templateId: v.id('importTemplates') - default import template for this connector
- [ ] connectedOrganizations array: organizationId, federationOrgId, enabledAt, lastSyncAt
- [ ] createdAt, updatedAt (number timestamps)
- [ ] Add indexes: by_federationCode, by_status
- [ ] Run npx -w packages/backend convex codegen successfully

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P4.1-001"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
