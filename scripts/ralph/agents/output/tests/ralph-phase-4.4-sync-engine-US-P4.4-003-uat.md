# UAT Test: US-P4.4-003 - Implement conflict resolution strategies

> Auto-generated: 2026-02-15 23:23
> Status: â³ Pending Execution

## Story
As an organization admin, I need configurable conflict resolution so I can choose whether federation or local data takes precedence when conflicts occur.

## Acceptance Criteria Checklist

- [ ] Add to packages/backend/convex/lib/federation/changeDetector.ts
- [ ] Implement resolveConflicts function: (conflicts, strategy) => ResolvedData
- [ ] Strategy 'federation_wins': always use federation value (default)
- [ ] Strategy 'local_wins': always keep local value
- [ ] Strategy 'merge': use federation for unmodified fields, local for modified fields
- [ ] merge strategy requires lastModifiedBy field to track who made changes
- [ ] Return ResolvedData: merged object with resolved values and resolution notes
- [ ] Resolution notes explain which strategy was used for each conflict
- [ ] Add validation: ensure strategy is one of: federation_wins, local_wins, merge
- [ ] Add TypeScript types: ConflictResolutionStrategy, ResolvedData
- [ ] Run npx ultracite fix and npm run check-types

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P4.4-003"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
