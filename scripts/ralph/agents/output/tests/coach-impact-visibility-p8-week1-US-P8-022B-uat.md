# UAT Test: US-P8-022B - Platform Staff Overview Dashboard

> Auto-generated: 2026-01-27 21:03
> Status: ⏳ Pending Execution

## Story
As a platform staff member, I want to see a comprehensive overview of trust gate settings across all organizations so I can quickly identify issues and trends.

## Acceptance Criteria Checklist

- [ ] Add overview section ABOVE the organization table in apps/web/src/app/platform-admin/feature-flags/page.tsx
- [ ] Overview cards (4 cards in a grid):
- [ ] 1. Total Organizations
- [ ] - Count of all orgs
- [ ] - Subtitle: 'Active organizations'
- [ ] 2. Gates Disabled
- [ ] - Count of orgs with voiceNotesTrustGatesEnabled === false
- [ ] - Percentage in subtitle
- [ ] - Red badge if > 20%
- [ ] 3. Admin Overrides Active
- [ ] - Count of orgs with adminOverrideTrustGates !== undefined
- [ ] - Percentage in subtitle
- [ ] - Blue badge
- [ ] 4. Pending Coach Requests
- [ ] - Total pending requests across all orgs
- [ ] - Link: 'Review Requests' → filters table to show orgs with requests
- [ ] - Orange badge if > 0
- [ ] Detailed table below overview (keep existing table from US-P8-022)
- [ ] Add quick filters above table:
- [ ] - Button: 'Show Orgs with Issues' → filters to: gates disabled OR admin override OR pending requests
- [ ] - Button: 'Show Recently Changed' → sorts by lastChangedAt descending
- [ ] - Button: 'Show All' → resets filters
- [ ] Use existing query: api.models.trustGatePermissions.getAllOrgsFeatureFlagStatus
- [ ] Aggregate data client-side for overview cards
- [ ] Type check passes: npm run check-types
- [ ] Visual verification: Overview cards display correct counts, filters work

## Test Scenarios

### Happy Path
1. Navigate to the feature
2. Perform the primary action described in the story
3. Verify all acceptance criteria are met
4. **Expected:** Feature works as described

### Edge Cases
1. Test with empty/null values
2. Test with boundary values
3. Test rapid repeated actions
4. **Expected:** Graceful handling, no errors

### Error Handling
1. Test with invalid inputs
2. Test without proper permissions
3. Test with network issues (if applicable)
4. **Expected:** Clear error messages, no crashes

## Visual Verification
- [ ] UI matches design expectations
- [ ] Responsive on mobile (if applicable)
- [ ] Loading states are appropriate
- [ ] Error states are user-friendly

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
