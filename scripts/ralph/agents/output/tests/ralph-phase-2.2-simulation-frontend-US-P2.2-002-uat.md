# UAT Test: US-P2.2-002 - Integrate simulation into wizard review step

> Auto-generated: 2026-02-13 20:57
> Status: â³ Pending Execution

## Story
As an admin in the import wizard, I need to run a simulation from the review step and see the preview before committing to the live import.

## Acceptance Criteria Checklist

- [ ] Update review-step.tsx to include a 'Run Simulation' button
- [ ] On click, call the simulate query via useQuery with the current wizard data (organizationId, sportCode, players, selectedRowIndices, benchmarkSettings)
- [ ] Use query skipping: pass 'skip' to useQuery until user clicks Run Simulation
- [ ] Show loading skeleton while simulation is running
- [ ] On success, show SimulationResults component with the results
- [ ] On error, show error Alert with retry button
- [ ] SimulationResults 'Proceed to Import' button transitions to the import step
- [ ] If simulation shows errors (result.errors.length > 0), disable proceed and show 'Fix errors before importing'
- [ ] Back button returns to quality check or selection step
- [ ] Transform wizard state into the simulate query's expected args shape (match the v.array(v.object({...})) from importSimulation.ts)
- [ ] Run npx ultracite fix and npm run check-types

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P2.2-002"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
