# UAT Test: US-P8-007 - Create Applied Insights Section Component

> Auto-generated: 2026-01-28 20:55
> Status: ⏳ Pending Execution

## Story
As a coach, I want to see insights I've applied grouped by category so I understand what types of observations I'm making.

## Acceptance Criteria Checklist

- [ ] Create apps/web/src/app/orgs/[orgId]/coach/voice-notes/components/applied-insights-section.tsx
- [ ] Component structure:
- [ ] export function AppliedInsightsSection({ skillChanges, injuries }: { skillChanges: Array<{...}>, injuries: Array<{...}> })
- [ ] Group insights by category:
- [ ] - Skills: from skillChanges array (green, icon: TrendingUp)
- [ ] - Injuries: from injuries array (red, icon: AlertCircle)
- [ ] Section header with total count:
- [ ] <h3 className='mb-4 font-semibold text-lg'>
- [ ] Applied to Player Profiles
- [ ] <Badge variant='secondary' className='ml-2'>{totalCount} insights</Badge>
- [ ] </h3>
- [ ] Category sections (collapsible):
- [ ] const [expandedCategory, setExpandedCategory] = useState<string | null>('skills');
- [ ] <Collapsible open={expandedCategory === 'skills'} onOpenChange={() => setExpandedCategory(expandedCategory === 'skills' ? null : 'skills')}>
- [ ] <CollapsibleTrigger className='flex w-full items-center justify-between rounded-lg border p-4 hover:bg-muted'>
- [ ] <div className='flex items-center gap-3'>
- [ ] <div className='flex h-10 w-10 items-center justify-center rounded-full bg-green-100'>
- [ ] <TrendingUp className='h-5 w-5 text-green-600' />
- [ ] </div>
- [ ] <div>
- [ ] <p className='font-medium'>Skills</p>
- [ ] <p className='text-muted-foreground text-sm'>{skillChanges.length} changes</p>
- [ ] </div>
- [ ] </div>
- [ ] <ChevronDown className={cn('h-4 w-4 transition-transform', expandedCategory === 'skills' && 'rotate-180')} />
- [ ] </CollapsibleTrigger>
- [ ] <CollapsibleContent className='mt-2 space-y-2 px-4'>
- [ ] {skillChanges.slice(0, 5).map(skill => (
- [ ] <Card key={skill.targetRecordId}>
- [ ] <CardContent className='p-4'>
- [ ] <div className='flex items-start justify-between'>
- [ ] <div className='flex-1'>
- [ ] <p className='font-medium'>{skill.playerName}</p>
- [ ] <p className='text-muted-foreground text-sm'>{skill.description}</p>
- [ ] <p className='mt-1 text-muted-foreground text-xs'>
- [ ] {formatDistanceToNow(new Date(skill.appliedAt), { addSuffix: true })}
- [ ] </p>
- [ ] </div>
- [ ] <Link href={`/orgs/${orgId}/players/${skill.playerIdentityId}/passport?tab=skills`}>
- [ ] <Button variant='ghost' size='sm'>View in Passport →</Button>
- [ ] </Link>
- [ ] </div>
- [ ] </CardContent>
- [ ] </Card>
- [ ] ))}
- [ ] {skillChanges.length > 5 && (
- [ ] <Button variant='outline' size='sm' className='w-full'>View All {skillChanges.length} Skills</Button>
- [ ] )}
- [ ] </CollapsibleContent>
- [ ] </Collapsible>
- [ ] Repeat pattern for Injuries category (red, AlertCircle icon)
- [ ] Empty state per category:
- [ ] {skillChanges.length === 0 && <p className='text-muted-foreground text-center text-sm py-4'>No skill changes yet</p>}
- [ ] Modify my-impact-tab.tsx:
- [ ] - Import: import { AppliedInsightsSection } from './applied-insights-section';
- [ ] - Replace placeholder (lines 233-248) with: <AppliedInsightsSection skillChanges={impactData.skillChanges} injuries={impactData.injuriesRecorded} />
- [ ] Type check passes: npm run check-types
- [ ] Visual verification: Categories collapse/expand, links to passport work, cards display correctly

## Test Scenarios

### Happy Path
1. Navigate to the feature
2. Perform the primary action described in the story
3. Verify all acceptance criteria are met
4. **Expected:** Feature works as described

### Edge Cases
1. Test with empty/null values
2. Test with boundary values
3. Test rapid repeated actions
4. **Expected:** Graceful handling, no errors

### Error Handling
1. Test with invalid inputs
2. Test without proper permissions
3. Test with network issues (if applicable)
4. **Expected:** Clear error messages, no crashes

## Visual Verification
- [ ] UI matches design expectations
- [ ] Responsive on mobile (if applicable)
- [ ] Loading states are appropriate
- [ ] Error states are user-friendly

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
