# UAT Test: US-P4.3-007 - Update mapping history with AI suggestions

> Auto-generated: 2026-02-15 22:42
> Status: ‚è≥ Pending Execution

## Story
As the import system, I need to record accepted AI mappings in mapping history so the system learns from user corrections.

## Acceptance Criteria Checklist

- [ ] Update recordMappingHistory mutation in packages/backend/convex/models/importSessions.ts
- [ ] Add optional aiSuggested field: boolean (true if mapping was AI-suggested)
- [ ] Add optional aiConfidence field: number (0-100, original AI confidence score)
- [ ] When user accepts AI suggestion, call recordMappingHistory with aiSuggested=true
- [ ] When user rejects AI suggestion and manually maps, call recordMappingHistory with aiSuggested=false
- [ ] Track correction rate: count rejections vs acceptances for each confidence level
- [ ] Add getCorrectionStats query: returns correction rates by confidence level (for monitoring AI accuracy)
- [ ] Use correction stats to adjust confidence thresholds over time (future enhancement)
- [ ] Run npx -w packages/backend convex codegen and npm run check-types

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P4.3-007"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
