# UAT Test: US-P4.2-005 - Implement GAA sync orchestrator action

> Auto-generated: 2026-02-15 21:50
> Status: ‚è≥ Pending Execution

## Story
As an organization admin, I need to trigger a full sync from GAA Foireann that creates an import session and imports all members.

## Acceptance Criteria Checklist

- [ ] Add to packages/backend/convex/actions/gaaFoireann.ts
- [ ] Implement syncGAAMembers action with args: connectorId, organizationId
- [ ] Create import session with status 'importing' and sourceType 'federation_sync'
- [ ] Fetch membership list using fetchMembershipList
- [ ] Transform all members using transformGAAMember
- [ ] Run duplicate detection: check externalIds.foireann against existing players
- [ ] For duplicates, check if any fields changed (name, DOB, email, phone, address)
- [ ] If changes detected, mark player for update in import session
- [ ] Store transformed data in import session with mapped fields
- [ ] Call existing import pipeline to create/update players
- [ ] Update import session stats: playersCreated, playersUpdated, duplicatesFound, errors
- [ ] Update connector's lastSyncAt timestamp
- [ ] On success, set session status to 'completed' and return session ID
- [ ] On error, set session status to 'failed' and log error details
- [ ] Run npx -w packages/backend convex codegen and npm run check-types

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P4.2-005"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
