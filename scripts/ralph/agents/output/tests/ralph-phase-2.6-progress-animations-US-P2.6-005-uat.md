# UAT Test: US-P2.6-005 - Create progress tracker cleanup and integration

> Auto-generated: 2026-02-14 00:53
> Status: ‚è≥ Pending Execution

## Story
As the import system, I need to clean up progress trackers after imports complete and integrate all progress features into the wizard.

## Acceptance Criteria Checklist

- [ ] Create importProgressTrackers table in schema.ts with fields: sessionId (primary), stats, currentOperation, errors, phase, percentage, updatedAt
- [ ] Add index: by_sessionId
- [ ] Add cleanup mutation: cleanupProgressTracker(sessionId) that deletes tracker record
- [ ] Call cleanup mutation in batchImportPlayersWithIdentity on completion or failure
- [ ] Add cron job (optional): delete progress trackers older than 1 hour (cleanup stale records)
- [ ] Update import-step.tsx to poll getProgressTracker query every 500ms during active import
- [ ] Stop polling when import completes (phase = 'completed' or 'failed')
- [ ] Show loading skeleton for stats/operation until first progress update received
- [ ] Handle edge case: if progress tracker not found, show graceful fallback (basic progress only)
- [ ] Mobile: ensure all progress UI components stack vertically, no overflow
- [ ] Run npx ultracite fix and npm run check-types

## Playwright E2E Tests
- Run: `npx -w apps/web playwright test --config=uat/playwright.config.ts -g "US-P2.6-005"`
- Report: `npx -w apps/web playwright show-report uat/playwright-report`

## Notes
_Add testing observations here_

---
*Generated by Test Runner Agent*
